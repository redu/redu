(function(a,b){var c="hidden",d="border-box",e='<textarea style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden">',f=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],g="oninput",h="onpropertychange",i=a(e)[0];i.setAttribute(g,"return"),a.isFunction(i[g])||h in i?a.fn.autosize=function(b){return this.each(function(){function r(){var a,b;n||(n=!0,k.value=i.value,k.style.overflowY=i.style.overflowY,k.style.width=j.css("width"),k.scrollTop=0,k.scrollTop=9e4,a=k.scrollTop,b=c,a>m?(a=m,b="scroll"):a<l&&(a=l),i.style.overflowY=b,i.style.height=a+q+"px",setTimeout(function(){n=!1},1))}var i=this,j=a(i),k,l=j.height(),m=parseInt(j.css("maxHeight"),10),n,o=f.length,p,q=0;if(j.css("box-sizing")===d||j.css("-moz-box-sizing")===d||j.css("-webkit-box-sizing")===d)q=j.outerHeight()-j.height();if(j.data("mirror")||j.data("ismirror"))return;k=a(e).data("ismirror",!0).addClass(b||"autosizejs")[0],p=j.css("resize")==="none"?"none":"horizontal",j.data("mirror",a(k)).css({overflow:c,overflowY:c,wordWrap:"break-word",resize:p}),m=m&&m>0?m:9e4;while(o--)k.style[f[o]]=j.css(f[o]);a("body").append(k),h in i?g in i?i[g]=i.onkeyup=r:i[h]=r:i[g]=r,a(window).resize(r),j.bind("autosize",r),r()})}:a.fn.autosize=function(){return this}})(jQuery);