(function(a){function d(b,c){a.trim(b.val())===""?b.data("placeholder").removeClass(c.hideClass):b.data("placeholder").addClass(c.hideClass)}function e(a,b){a.data("placeholder").addClass(b.hideClass)}function f(a,b){var c=b.is("textarea");a.css({height:b.innerHeight()-6,lineHeight:b.css("line-height"),whiteSpace:c?"normal":"nowrap",overflow:"hidden"})}function g(a,b){var d=a.val();(function f(){c=requestAnimationFrame(f),a.val()!=d&&(e(a,b),i(),h(a,b))})()}function h(a,b){var e=a.val();(function f(){c=requestAnimationFrame(f),d(a,b)})()}function i(){cancelAnimationFrame(c)}function j(a){b&&window.console&&window.console.log&&window.console.log(a)}var b=!0,c;a.fn.placeHolder=function(b){j("init placeHolder");var c=this,h=a(this).length;return this.options=a.extend({className:"placeholder",visibleToScreenreaders:!0,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:!1,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:!0,forceApply:!1,autoInit:!0},b),this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass,a(this).each(function(b){var k=a(this),m=k.parent(),n=k.attr("placeholder"),p=k.attr("id"),q,r,s;q=k.closest("label")[0],k.attr("placeholder","");if(!q&&!p){j("the input element with the placeholder needs an id!");return}q=q||a('label[for="'+p+'"]');if(!q){j("the input element with the placeholder needs a label!");return}a(q).hasClass(c.options.removeLabelClass)&&a(q).removeClass(c.options.removeLabelClass).addClass(c.options.hiddenOverrideClass),r=a('<span class="'+c.options.className+'">'+n+"</span>").appendTo(m),k.is(":disabled")||r.on("click",function(){e(k,c.options),k.focus()}),s=r.width()>k.width(),s&&r.attr("title",n),f(r,k),k.data("placeholder",r),r.data("input",r),r.click(function(){a(this).data("input").focus()}),k.focusin(function(){!c.options.hideOnFocus&&window.requestAnimationFrame?g(k,c.options):e(k,c.options)}),k.focusout(function(){d(a(this),c.options),!c.options.hideOnFocus&&window.cancelAnimationFrame&&i()}),d(k,c.options),a(document).bind("fontresize resize",function(){f(r,k)}),a.event.special.resize?a("textarea").bind("resize",function(a){f(r,k)}):a("textarea").css("resize","none"),b>=h-1&&(a.attrHooks.placeholder={get:function(b){return b.nodeName.toLowerCase()=="input"||b.nodeName.toLowerCase()=="textarea"?a(a(b).data("placeholder")).text():undefined},set:function(b,c){return a(a(b).data("placeholder")).text(c)}})})},a(function(){var b=window.placeHolderConfig||{};if(b.autoInit===!1){j("placeholder:abort because autoInit is off");return}if("placeholder"in a("<input>")[0]&&!b.forceApply){j("placeholder:abort because browser has native support");return}a("input[placeholder], textarea[placeholder]").placeHolder(b)})})(jQuery);